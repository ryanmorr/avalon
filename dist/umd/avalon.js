/*! @ryanmorr/avalon v1.0.1 | https://github.com/ryanmorr/avalon */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).avalon=e()}(this,(function(){"use strict";var t=function(e,n,r,i){var s;n[0]=0;for(var o=1;o<n.length;o++){var c=n[o++],l=n[o]?(n[0]|=c?1:2,r[n[o++]]):n[++o];3===c?i[0]=l:4===c?i[1]=Object.assign(i[1]||{},l):5===c?(i[1]=i[1]||{})[n[++o]]=l:6===c?i[1][n[++o]]+=l+"":c?(s=e.apply(l,t(e,l,r,["",null])),i.push(s),l[0]?n[0]|=2:(n[o-2]=0,n[o]=s)):i.push(l)}return i},e=new Map;function n(n){var r=e.get(this);return r||(r=new Map,e.set(this,r)),(r=t(this,r.get(n)||(r.set(n,r=function(t){for(var e,n,r=1,i="",s="",o=[0],c=function(t){1===r&&(t||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?o.push(0,t,i):3===r&&(t||i)?(o.push(3,t,i),r=2):2===r&&"..."===i&&t?o.push(4,t,0):2===r&&i&&!t?o.push(5,0,!0,i):r>=5&&((i||!t&&5===r)&&(o.push(r,0,i,n),r=6),t&&(o.push(r,t,0,n),r=6)),i=""},l=0;l<t.length;l++){l&&(1===r&&c(),c(l));for(var u=0;u<t[l].length;u++)e=t[l][u],1===r?"<"===e?(c(),o=[o],r=3):i+=e:4===r?"--"===i&&">"===e?(r=1,i=""):i=e+i[0]:s?e===s?s="":i+=e:'"'===e||"'"===e?s=e:">"===e?(c(),r=1):r&&("="===e?(r=5,n=i,i=""):"/"===e&&(r<5||">"===t[l][u+1])?(c(),3===r&&(o=o[0]),r=o,(o=o[0]).push(2,0,r),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(c(),r=2):i+=e),3===r&&"!--"===i&&(r=4,o=o[0])}return c(),o}(n)),r),arguments,[])).length>1?r:r[0]}
/*! @ryanmorr/carbon v1.0.1 | https://github.com/ryanmorr/carbon */const r=1,i=3,s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function o(...t){return Object.assign({},...t)}function c(t){return null!=t&&"boolean"!=typeof t}function l(t,e){return t.tag===e.tag&&t.key===e.key}function u(t){if("string"==typeof t)return t;let e="";if(Array.isArray(t)&&t.length>0)for(let n,r=0,i=t.length;r<i;r++)""!==(n=u(t[r]))&&(e+=(e&&" ")+n);else for(const n in t)t[n]&&(e+=(e&&" ")+n);return e}function a(t,e,n){const r={};for(let i=e;i<=n;++i){const e=t[i],n=e&&e.key;null!=n&&(r[n]=i)}return r}function h(t,e,n,i=null){return{type:r,tag:t,props:e,children:n,key:e.key||null,node:i}}function f(t,e=null){return{type:i,text:String(t),node:e}}function d(t){return 3===t.nodeType?f(t.data,t):1===t.nodeType?h(t.nodeName.toLowerCase(),Array.from(t.attributes).reduce(((e,n)=>{const r=n.name,i=n.value;return"style"!==r&&(e[r]=i),"key"===r&&t.removeAttribute("key"),e}),{}),Array.from(t.childNodes).map(d),t):void 0}function p(t,e){let n;if(t.type===i)n=document.createTextNode(t.text);else{const{tag:r,props:i,children:s}=t,o=s.length;n=(e=e||"svg"===r)?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r),Object.keys(i).forEach((t=>g(n,t,null,i[t],e))),1===o?n.appendChild(p(s[0],e)):o>1&&n.appendChild(s.reduce(((t,n)=>t.appendChild(p(n,e))&&t),document.createDocumentFragment()))}return t.node=n,n}function m(t,e,n){e.startsWith("--")?t.style.setProperty(e,null==n?"":n):null==n?t.style[e]="":"number"!=typeof n||s.test(e)?t.style[e]=n:t.style[e]=n+"px"}function g(t,e,n,r,i){if("key"!==e&&"children"!==e)if("style"===e)if("string"==typeof r)t.style.cssText=r;else{"string"==typeof n&&(t.style.cssText=n="");for(const e in o(r,n))m(t,e,null==r?"":r[e])}else if(!e.startsWith("on")||"function"!=typeof n&&"function"!=typeof r){if("function"!=typeof r){if(null==r||"class"!==e&&"className"!==e||(r=u(r)),i||"class"!==e||(e="className"),!i&&"width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&"rowSpan"!==e&&"colSpan"!==e&&"role"!==e&&e in t)try{return void(t[e]=null==r?"":r)}catch(t){}null==r||!1===r&&-1==e.indexOf("-")?t.removeAttribute(e):t.setAttribute(e,r)}}else e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),r&&t.addEventListener(e,r),n&&t.removeEventListener(e,n)}function y(t,e,n,r){let i,s=0,o=e.length-1,c=e[0],u=e[o],h=0,f=n.length-1,d=n[0],m=n[f];for(;s<=o&&h<=f;)if(c)if(u)if(l(c,d))v(t,c,d,r),c=e[++s],d=n[++h];else if(l(u,m))v(t,u,m,r),u=e[--o],m=n[--f];else if(l(c,m))v(t,c,m,r),t.insertBefore(c.node,u.node.nextSibling),c=e[++s],m=n[--f];else if(l(u,d))v(t,u,d,r),t.insertBefore(u.node,c.node),u=e[--o],d=n[++h];else{i||(i=a(e,s,o));const l=d.key,u=l?i[l]:null;if(null==u)t.insertBefore(p(d,r),c.node),d=n[++h];else{let i=e[u];v(t,i,d,r),e[u]=void 0,t.insertBefore(i.node,c.node),d=n[++h]}}else u=e[--o];else c=e[++s];if(s>o){const e=n[f+1]?n[f+1].node:null;for(let i=h;i<=f;i++)t.insertBefore(p(n[i],r),e)}else if(h>f)for(let n=s;n<=o;n++){const r=e[n];r&&r.node&&t.removeChild(r.node)}return n}function v(t,e,n,r){if(e===n)return null==e?null:e.node;if(null==e)return t.appendChild(p(n,r));let s=e.node;if(null==n)return t.removeChild(s)&&null;if(e.type===i&&n.type===i)e.text!==n.text&&(s.data=n.text);else if(l=e,(c=n).type!==l.type||c.type===i&&c.text!==l.text||c.tag!==l.tag){const e=p(n,r);t.replaceChild(e,s),s=e}else{r=r||"svg"===n.tag;const t=document.activeElement,i=e.props,c=n.props;for(const t in o(c,i))("value"===t||"selected"===t||"checked"===t?s[t]:i[t])!==c[t]&&g(s,t,i[t],c[t],r);y(s,e.children,n.children,r),t!==document.body&&t.focus()}var c,l;return n.node=s,s}
/*! @ryanmorr/schedule-render v3.0.2 | https://github.com/ryanmorr/schedule-render */
let b,w;const j=[],A=5;function E(){return performance.now()}function O(){return j.length>0}function x(){w=E();do{O()&&j.shift()()}while(E()-w<A);b=null,O()&&(b=requestAnimationFrame(x))}const S=/\/$/;function k(t){return"true"===t||"false"!==t&&("undefined"===t?null:t===+t+""?+t:t)}function C(t){if(!t||"object"!=typeof t)return!1;const e=Object.getPrototypeOf(t);return null===e||e===Object.getPrototypeOf({})}function P(t){return null==t||Object.isFrozen(t)||(Object.freeze(t),Array.isArray(t)?t.forEach((t=>P(t))):C(t)&&Object.getOwnPropertyNames(t).forEach((e=>P(t[e])))),t}function D(...t){return P(Object.assign(Object.create(null),...t))}function N(t){return"/"===t.charAt(0)}function L(t){return"/"===(t=t.trim())?t:t.replace(S,"")}function T(t,e,n){if(C(t))for(const e in t)n(e,t[e]);else n(t,e)}function B(t,e){if(t===e)return!0;if(null===t||null===e)return!1;const n=Object.prototype.toString.call(t);if(n!=Object.prototype.toString.call(e))return!1;switch(n){case"[object Date]":case"[object Number]":return+t==+e||+t!=+t&&+e!=+e;case"[object Function]":case"[object String]":case"[object Boolean]":return""+t==""+e;case"[object Array]":if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!B(t[n],e[n]))return!1;return!0;case"[object Object]":{const n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every((n=>B(t[n],e[n])))}default:return!1}}class F{#t;#e;#n;#r;#i;#s;#o;#c;constructor(t={}){"title"in t?document.title=t.title:t.title=document.title,this.#t=D(t),this.#e=Object.create(null),this.#n=new Map,this.#r=new Map,this.#i=new Map,this.#s=[],this.#c={commit:this.commit.bind(this),dispatch:this.dispatch.bind(this),redirect:this.redirect.bind(this),navigate:this.navigate.bind(this),emit:this.emit.bind(this)};const e=this.#l.bind(this);document.documentElement.addEventListener("click",e,!1),document.documentElement.addEventListener("submit",e,!1),this.#o=n.bind(((t,e,...n)=>(e=e||{},"function"==typeof t?(e.children=n,t(this.#o,e,this.#u())):function(t,e,...n){return e&&e.type!==r&&e.type!==i&&"function"!=typeof e.concat||(n=[].concat(e||[],...n),e=null),e=e||{},n=function(t){return t.flat(1/0).reduce(((t,e)=>{if(c(e)){const n=typeof e;"string"!==n&&"number"!==n||(e=f(e)),t.push(e)}return t}),[])}(n),"function"==typeof t?t({children:n,...e}):h(t,e,n)}(t,e,...n)))),this.on("mutation",((t,e,n)=>{e.title!==n.title&&(document.title=e.title),this.#s.forEach((t=>t()))}))}use(t){return t(this,this.state())}state(){return this.#t}path(){return L(window.location.pathname)}on(t,e){let n=this.#r.get(t);return void 0===n&&(n=new Set,this.#r.set(t,n)),n.add(e),()=>this.#r.get(t).delete(e)}emit(t,...e){const n=this.#r.get(t);void 0!==n&&n.size>0&&n.forEach((t=>t(...e)))}mutation(t,e){T(t,e,((t,e)=>{this.#e[t]=e}))}commit(t,e=null){const n=this.#e[t];if(n){const r=this.state(),i=n(r,e);return this.#t=D(r,i),this.emit("mutation",t,this.#t,r,i),i}return null}action(t,e){T(t,e,((t,e)=>{this.#n.set(t,e)}))}route(t,e){this.#c.onPopState||(this.#c.onPopState=this.#a.bind(this),window.addEventListener("popstate",this.#c.onPopState,!1)),T(t,e,((t,e)=>{this.#n.set(function(t){const e=[],n=t.split("/").map((t=>{if(!t)return t;const n=t.length,r=t.charCodeAt(0);if(42===r)return e.push("wildcard"),"/(.*)";if(58===r){const r=63===t.charCodeAt(n-1);return e.push(t.substring(1,r?n-1:n)),r?"(?:/([^/]+?))?":"/([^/]+?)"}return"/"+t})),r=new RegExp("^"+n.join("")+"/?$","i");return t=>{const n=r.exec(t);return n&&n[0]?n.slice(1).map(decodeURI).map(k).reduce(((t,n,r)=>(t[e[r]]=n,t)),{}):null}}(t),e)}))}dispatch(t=this.path(),e=null){const n=this.#h(t,e);return n?n():null}navigate(t){return this.#f(t,"navigate")}redirect(t){return this.#f(t,"redirect")}view(t,e){let n;const r=()=>n||(n=function(t){return new Promise((e=>{b||(b=requestAnimationFrame(x)),j.push((()=>e(t())))}))}((()=>{const r=e(this.#o,this.state(),this.#u()),i=function(t,e){let n=t._vnode||null;!n&&t.childNodes.length>0&&(n=Array.from(t.childNodes).map(d));const r=Array.isArray(n),i=Array.isArray(e);if(t._vnode=e,r||i){const s=y(t,(r?n:[n]).filter(c),(i?e:[e]).filter(c));return 0===s.length?null:1===s.length?s[0].node:s.map((t=>t.node))}return v(t,n,e)}(t,r);n=null,this.emit("render",i)})));this.#s.push(r),r()}#f(t,e="navigate"){if((t=L(t))===this.path())return;const n=this.#h(t);return n?(history["redirect"===e?"replaceState":"pushState"](null,"",t),this.emit("pathchange",t),n()):null}#h(t,e=null,n=null){for(const[r,i]of this.#n){let s;if(N(t)&&"string"!=typeof r){const n=L(t);(e=r(n))&&(s="route",0===Object.keys(e).length&&(e=null))}else r===t&&(s="action");if(s)return()=>{const r={params:e,event:n,state:this.state(),commit:this.#c.commit,dispatch:this.#c.dispatch,navigate:this.#c.navigate,redirect:this.#c.redirect,emit:this.#c.emit};"route"===s&&(r.path=t);const o=i.length<2?i(r):new Promise(((t,e)=>i(r,t,e)));return this.emit("dispatch",s,t,this.state(),e,n,o),o}}return null}#u(){return(t,e=null)=>{for(const[n,r]of this.#i)if(n[0]===t&&B(e,n[1]))return r;const n=n=>{const r=this.#h(t,e,n instanceof Event?n:null);return r?r():null};return this.#i.set([t,e],n),n}}#a(){const t=this.path();this.dispatch(t),this.emit("pathchange",t)}#l(t){if(t.defaultPrevented)return;let e;if("submit"===t.type)e=t.target.getAttribute("action");else{if(t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)return;const n=t.target.closest("a");if(!n)return;const r="object"==typeof n.href&&"SVGAnimatedString"===n.href.constructor.name;if("_blank"===n.getAttribute("target"))return;if("external"===n.getAttribute("rel"))return;if(n.hasAttribute("download"))return;if(!r&&!function(t){const e=new URL(t,window.location.toString()),n=window.location;return n.protocol===e.protocol&&n.hostname===e.hostname&&(n.port===e.port||""===n.port&&(80==e.port||443==e.port))}(n))return;if(e=r?n.href.baseVal:n.getAttribute("href"),e.indexOf("mailto:")>-1)return}if(!e)return;const n=N(e);if(n&&(e=L(e)),n&&e===this.path())return;const r=this.#h(e,null,t);r&&(t.preventDefault(),n&&(history.pushState(null,"",e),this.emit("pathchange",e)),r())}}return function(t){return new F(t)}}));
